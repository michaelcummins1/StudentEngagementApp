<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Following List</title>
    <link rel="stylesheet" href="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: #fff;
        }

        .follow-button {
            background-color: #dc143c;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 0.875rem;
            font-weight: 500;
            border: none;
            margin-top: 1rem;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }

        .follow-button:hover {
            background-color: #b22222;
        }

        .search-Bar {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
        }

        .search-Bar input {
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            width: 100%;
            max-width: 300px;
            font-size: 0.875rem;
            background-color: #fff;
            color: #000;
        }

        .search-Bar input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        .scroll-container-following {
            max-height: 500px;
            overflow-y: auto;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 2rem;
            color: #fff;
        }

        .followed-user {
            background-color: #1a202c;
            border-radius: 0.375rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.2);
            margin-bottom: 1rem;
            padding: 1rem;
        }

        .followed-user-info {
            display: flex;
            align-items: center;
        }

        .profile-pic {
            width: 50px;
            height: 50px;
            border-radius: 9999px;
            margin-right: 1rem;
            object-fit: cover;
        }

        .user-details h3 {
            font-size: 1rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.25rem;
        }

        .user-details p {
            font-size: 0.875rem;
            color: #fff;
        }

        .following-header {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .following-header img {
            width: 50px;
            height: 50px;
            margin-right: 1rem;
        }

        .following-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #fff;
        }

        footer {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #000;
            padding-bottom: 1rem;
        }

        footer button {
            margin: 0 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            background-color: #dc143c;
            color: #fff;
            border: 1px solid #b22222;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1rem; /* Increased font size */
            display: flex; /* Use flexbox for icon alignment */
            align-items: center; /* Vertically center icon and text */
            justify-content: center; /* Center content horizontally */
        }

        footer button:hover {
            background-color: #b22222;
            border-color: #a52a2a;
        }

        footer button.active {
            background-color: #b22222;
            color: white;
            border-color: #a52a2a;
        }

        footer button.active:hover {
            background-color: #a52a2a;
            border-color: #8b0000;
        }

        /* Specific styling for each button to ensure correct icon */
        #homePgBtn {
            padding: 0.75rem 1.5rem;
        }

        #createPstBtn {
            padding: 0.75rem 1.5rem;
        }

        #fllwLstBtn {
            padding: 0.75rem 1.5rem;
        }

        .home-button svg {
            margin-right: 0.5rem; /* Add space between icon and text */
        }

        .create-button svg {
            margin-right: 0.5rem;
        }

        .follow-list-button svg {
            margin-right: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="bg-white shadow-md rounded-lg mx-auto mt-4 max-w-2xl">
        <div class="following-header">
            <img src="/assets/images/uc-crest.png" alt="Ursinus Logo" id="ursinusLogo" class="rounded-full">
            <h2 class="text-xl font-semibold text-white">Following List</h2>
        </div>
        <form action="/search" method="GET" class="search-Bar">
            <input id="searchBar" type="text" name="query" placeholder="Search..." class="border rounded p-2 w-full text-black" />
        </form>
        <div class="flex justify-center">
            <button id="findPeopleButton" class="follow-button">Find People to Follow</button>
        </div>

        <main class="scroll-container-following" id="followingListContainer">
        </main>
        <footer class="py-4">
            <button id="homePgBtn" class="home-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                    <path d="M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 0 1 1.061 1.06l8.69-8.689Z" />
                    <path d="m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z" />
                </svg>
                Home
            </button>
            <button id="createPstBtn" class="create-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                    <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm.53 5.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72v5.69a.75.75 0 0 0 1.5 0v-5.69l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3Z" clip-rule="evenodd" />
                </svg>
                Create Post
            </button>
            <button id="fllwLstBtn" class="follow-list-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                    <path fill-rule="evenodd" d="M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z" clip-rule="evenodd" />
                    <path d="M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z" />
                </svg>
                Following
            </button>
        </footer>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const followingListContainer = document.getElementById("followingListContainer");
            const searchBar = document.getElementById("searchBar");
            const findPeopleButton = document.getElementById("findPeopleButton");
            const homePgBtn = document.getElementById("homePgBtn");
            const createPstBtn = document.getElementById("createPstBtn");
            const fllwLstBtn = document.getElementById("fllwLstBtn");


            // Testing/Example users
            const followedUsers = [
                { username: "RussAbeJr", fullName: "Russell Abraham", profilePic: "/assets/images/blank_pfp.png" },
                { username: "MichaelCummins1", fullName: "Michael Cummins", profilePic: "/assets/images/blank_pfp.png" },
                { username: "tyhouser89", fullName: "Tyler Houser", profilePic: "/assets/images/blank_pfp.png" },
                { username: "DevinPF", fullName: "Devin Franchino", profilePic: "/assets/images/blank_pfp.png" },
                { username: "JaheimOates", fullName: "Jaheim Oates", profilePic: "/assets/images/blank_pfp.png" },
                { username: "JohnDoe1", fullName: "John Doe", profilePic: "/assets/images/blank_pfp.png" },
                { username: "JaneDoe2025", fullName: "Jane Doe", profilePic: "/assets/images/blank_pfp.png" },
                { username: "mrTesting", fullName: "Test Person", profilePic: "/assets/images/blank_pfp.png" },
                { username: "missExample", fullName: "Miss Example", profilePic: "/assets/images/blank_pfp.png" },
                { username: "idk", fullName: "Isaiah Doesnt Know", profilePic: "/assets/images/blank_pfp.png" },
                { username: "ihaveareallyreallyreallylongnamewhywouldieverevereverdothis", fullName: "Why Did My Parents Give Me Such A Long Name", profilePic: "/assets/images/blank_pfp.png" },
                { username: "a", fullName: "a", profilePic: "/assets/images/blank_pfp.png" }
            ];

            // Function to render the followed users list
            function renderFollowingList(usersToRender = followedUsers) {
                followingListContainer.innerHTML = "";
                if (usersToRender.length === 0) {
                    followingListContainer.innerHTML = "<p class='text-gray-500'>No followed accounts yet.</p>";
                    return;
                }

                usersToRender.forEach(user => {
                    const userDiv = document.createElement("div");
                    userDiv.className = "followed-user";

                    const followedUserInfo = document.createElement("div");
                    followedUserInfo.className = "followed-user-info";

                    const img = document.createElement("img");
                    img.src = user.profilePic;
                    img.alt = user.fullName;
                    img.className = "profile-pic";

                    const userDetailsDiv = document.createElement("div");
                    userDetailsDiv.className = "user-details";

                    const h3 = document.createElement("h3");
                    h3.textContent = user.fullName;

                    const p = document.createElement("p");
                    p.textContent = `@${user.username}`;

                    userDetailsDiv.appendChild(h3);
                    userDetailsDiv.appendChild(p);
                    followedUserInfo.appendChild(img);
                    followedUserInfo.appendChild(userDetailsDiv);
                    userDiv.appendChild(followedUserInfo);
                    followingListContainer.appendChild(userDiv);
                });
            }

            // Search filter function
            function filterList() {
                const query = searchBar.value.toLowerCase();
                const filteredUsers = followedUsers.filter(user =>
                    user.username.toLowerCase().includes(query) ||
                    user.fullName.toLowerCase().includes(query)
                );
                renderFollowingList(filteredUsers);
            }

            // Search input listener
            searchBar.addEventListener("input", filterList);

            const searchForm = document.querySelector(".search-Bar");
            if (searchForm) {
                searchForm.addEventListener("submit", function (e) {
                    e.preventDefault();
                });
            }

            // Event listener for the "Find People to Follow" button
            if (findPeopleButton) {
                findPeopleButton.addEventListener("click", () => {
                    window.location.href = "/pages/follow.html";
                });
            }
            if (homePgBtn) {
                homePgBtn.addEventListener("click", () => {
                    window.location.href = "/pages/mainpage.html";
                });
            }

            if (createPstBtn) {
                createPstBtn.addEventListener("click", () => {
                    window.location.href = "/pages/postcreation.html";
                });
            }

            if (fllwLstBtn) {
                fllwLstBtn.addEventListener("click", () => {
                    window.location.href = "/pages/followinglist.html";
                });
            }

            renderFollowingList();
        });
    </script>
</body>
</html>
